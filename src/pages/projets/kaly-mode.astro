---
import DemoLayout from "../../layouts/DemoLayout.astro";
import { KalyHeader } from "../../components/demos/kaly/KalyHeader";
import { ProductGrid } from "../../components/demos/kaly/ProductGrid";
import { CartDrawer } from "../../components/demos/kaly/CartDrawer";
import { KalyAdmin } from "../../components/demos/kaly/KalyAdmin";

// Styles spécifiques pour les polices de la démo
---

<DemoLayout title="Kaly Mode" themeColor="#db2777">
    <!-- Font Injection -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Manrope:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">

    <div class="font-['Manrope'] text-[#1a1a1a] antialiased bg-white selection:bg-pink-100 selection:text-pink-900">
        
        <!-- REACT COMPONENTS: STATEFUL LOGIC -->
        <KalyHeader client:load />
        <CartDrawer client:load />
        <KalyAdmin client:only="react" />

        <!-- HERO SECTION (Static Astro) -->
        <header class="relative h-[85vh] min-h-[600px] flex items-center overflow-hidden bg-[#fdf2f8]">
            <div class="absolute right-0 top-0 w-full md:w-[55%] h-full bg-[url('https://images.unsplash.com/photo-1496747611176-843222e1e57c?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80')] bg-cover bg-center md:rounded-bl-[100px]"></div>
            
            <div class="relative z-10 max-w-7xl mx-auto px-6 w-full grid md:grid-cols-2">
                <div class="flex flex-col justify-center items-start pt-12 md:pt-0">
                    <span class="text-pink-600 font-bold uppercase tracking-widest text-xs mb-6 animate-fade-in-up">Nouvelle Collection Printemps</span>
                    <h1 class="font-['Playfair_Display'] text-6xl md:text-8xl font-black italic leading-[0.9] mb-8 animate-fade-in-up delay-100 text-gray-900">
                        Bloom <br> <span class="text-pink-600 not-italic">Wildly.</span>
                    </h1>
                    <p class="text-lg text-gray-500 max-w-md mb-12 leading-relaxed animate-fade-in-up delay-200">
                        Une ode à la liberté et à la couleur. Des coupes audacieuses pour celles qui n'ont pas peur de briller.
                    </p>
                    <a href="#collection" class="group bg-black text-white px-10 py-5 font-bold uppercase tracking-widest hover:bg-pink-600 transition-all duration-300 shadow-xl shadow-pink-600/20 animate-fade-in-up delay-300 rounded-full flex items-center gap-3">
                        Découvrir
                        <span class="inline-block group-hover:translate-x-1 transition-transform">→</span>
                    </a>
                </div>
            </div>
        </header>

        <!-- MARQUEE (CSS Animation) -->
        <div class="bg-black text-white py-4 overflow-hidden whitespace-nowrap border-y border-white/10">
            <div class="inline-block animate-marquee font-bold text-xs uppercase tracking-[0.2em]">
                Livraison offerte dès 150€ — Retours gratuits 30 jours — Paiement sécurisé — Nouveautés chaque semaine — Livraison offerte dès 150€ — Retours gratuits 30 jours — 
            </div>
        </div>

        <!-- PRODUCTS GRID (React Component) -->
        <section id="collection" class="py-32 max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-end mb-20 gap-8">
                <div>
                    <span class="text-pink-600 font-bold uppercase tracking-widest text-xs mb-2 block">Shop The Look</span>
                    <h2 class="font-['Playfair_Display'] text-4xl md:text-5xl font-bold">Les Incontournables</h2>
                </div>
                <div class="flex gap-2 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto">
                    <button class="px-6 py-2 bg-black text-white rounded-full text-sm font-bold whitespace-nowrap">Tout voir</button>
                    <button class="px-6 py-2 border border-gray-200 hover:border-black rounded-full text-sm font-bold transition-colors whitespace-nowrap">Robes</button>
                    <button class="px-6 py-2 border border-gray-200 hover:border-black rounded-full text-sm font-bold transition-colors whitespace-nowrap">Tailoring</button>
                    <button class="px-6 py-2 border border-gray-200 hover:border-black rounded-full text-sm font-bold transition-colors whitespace-nowrap">Accessoires</button>
                </div>
            </div>

            <ProductGrid client:visible />
        </section>

        <!-- EDITORIAL SECTION -->
        <section class="py-20 bg-gray-50 overflow-hidden">
            <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-20 items-center">
                <div class="relative">
                    <div class="aspect-[4/5] rounded-2xl overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=1964&auto=format&fit=crop" class="w-full h-full object-cover" alt="Model">
                    </div>
                    <div class="absolute -bottom-10 -right-10 w-64 h-64 bg-pink-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20"></div>
                    </div>
                    <div>
                    <h2 class="font-['Playfair_Display'] text-4xl md:text-6xl font-bold mb-8 leading-tight">
                        L'élégance <br><span class="text-pink-600 italic">intemporelle.</span>
                    </h2>
                    <p class="text-gray-500 text-lg mb-8 leading-relaxed">
                        Chaque pièce est pensée dans nos ateliers parisiens avec une attention obsessionnelle du détail. Nous sélectionnons les matières les plus nobles pour créer des vêtements qui durent.
                    </p>
                    <div class="grid grid-cols-2 gap-8 mb-10">
                            <div>
                            <h4 class="font-bold text-2xl mb-2">100%</h4>
                            <p class="text-sm text-gray-500">Matières naturelles</p>
                    </div>
                    <div>
                            <h4 class="font-bold text-2xl mb-2">Fair</h4>
                            <p class="text-sm text-gray-500">Production éthique</p>
                        </div>
                    </div>
                    <a href="#" class="text-black font-bold uppercase tracking-widest border-b border-black pb-1 hover:text-pink-600 hover:border-pink-600 transition-colors">En savoir plus sur nous</a>
                </div>
            </div>
        </section>

        <!-- FOOTER (Static HTML) -->
        <footer class="bg-white pt-32 pb-10 px-6 border-t border-gray-100">
            <div class="max-w-7xl mx-auto grid md:grid-cols-4 gap-12 mb-20">
                <div class="md:col-span-1">
                    <h3 class="font-['Playfair_Display'] text-3xl font-black italic mb-6">Kaly.</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        Mode éthique et contemporaine pour la femme moderne. 
                        Designed in Paris.
                    </p>
                </div>
                
                <div>
                    <h4 class="font-bold mb-6">Boutique</h4>
                    <ul class="space-y-4 text-sm text-gray-500">
                        <li><a href="#" class="hover:text-pink-600 transition-colors">Nouveautés</a></li>
                        <li><a href="#" class="hover:text-pink-600 transition-colors">Vêtements</a></li>
                        <li><a href="#" class="hover:text-pink-600 transition-colors">Accessoires</a></li>
                        <li><a href="#" class="hover:text-pink-600 transition-colors">Cartes Cadeaux</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold mb-6">Aide</h4>
                    <ul class="space-y-4 text-sm text-gray-500">
                        <li><a href="#" class="hover:text-pink-600 transition-colors">FAQ</a></li>
                        <li><a href="#" class="hover:text-pink-600 transition-colors">Livraisons</a></li>
                        <li><a href="#" class="hover:text-pink-600 transition-colors">Retours</a></li>
                        <li><a href="#" class="hover:text-pink-600 transition-colors">Guide des tailles</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold mb-6">Newsletter</h4>
                    <p class="text-sm text-gray-400 mb-4">Inscrivez-vous pour -10% sur votre première commande.</p>
                    <div class="flex gap-2">
                        <input type="email" placeholder="Email" class="bg-gray-50 border border-gray-200 px-4 py-2 rounded-lg text-sm w-full focus:outline-none focus:border-pink-600">
                        <button class="bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-pink-600 transition-colors">OK</button>
                    </div>
                </div>
            </div>

            <div class="max-w-7xl mx-auto pt-8 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-400">
                <p>&copy; 2026 KALY. Démo réalisée par Agence Fluxior.</p>
                <div class="flex gap-6">
                    <a href="#">Mentions Légales</a>
                    <a href="#">Confidentialité</a>
                    <!-- TRIGGER ADMIN MODAL -->
                    <button id="admin-trigger" class="hover:text-pink-600 transition-colors font-bold">Accès Admin</button>
                </div>
            </div>
        </footer>
    </div>
</DemoLayout>

        <script>
    // Animation CSS FadeInUp
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('opacity-100', 'translate-y-0');
                entry.target.classList.remove('opacity-0', 'translate-y-10');
            }
                });
            });

    document.querySelectorAll('.animate-fade-in-up').forEach((el) => {
        el.classList.add('transition-all', 'duration-1000', 'opacity-0', 'translate-y-10');
        observer.observe(el);
    });

    // Admin Trigger Logic
    const adminBtn = document.getElementById('admin-trigger');
    if (adminBtn) {
        adminBtn.addEventListener('click', (e) => {
                e.preventDefault();
            // Dispatch event caught by React Component
            window.dispatchEvent(new CustomEvent('open-kaly-admin'));
        });
    }
        </script>

        <style>
            @keyframes marquee {
                0% { transform: translateX(0); }
                100% { transform: translateX(-50%); }
            }
            .animate-marquee {
                animation: marquee 30s linear infinite;
            }
        </style>
