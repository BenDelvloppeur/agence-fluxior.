---
import Layout from '../layouts/Layout.astro';
import Container from '../components/ui/Container.astro';
import { Navbar } from '../components/layout/Navbar';
import Footer from '../components/layout/Footer.astro';
import { ExternalLink, ArrowRight } from "lucide-react";
import { Reveal, StaggerContainer, StaggerItem, ParallaxImage } from "../components/ui/Motion";
import MagicCTA from "../components/ui/MagicCTA.astro";

const PROJECTS = [
  {
    title: "Maison Tradition",
    category: "Boucherie Artisanale",
    description: "Site vitrine premium pour artisans de bouche. Click & Collect et mise en avant du terroir.",
    image: "https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80",
    link: "/projets/maison-tradition"
  },
  {
    title: "Kaly Mode",
    category: "Mode & E-commerce",
    description: "Boutique en ligne féminine et dynamique avec lookbook intégré.",
    image: "https://images.unsplash.com/photo-1496747611176-843222e1e57c?ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80",
    link: "/projets/kaly-mode"
  }
];
---

<Layout title="Nos Réalisations | Agence Fluxior">
  <Navbar client:load />
  
  <main class="pt-32 pb-20">
    <Container>
      <!-- Header Page -->
      <div class="max-w-3xl mb-20">
        <Reveal client:load>
            <h1 class="text-5xl md:text-7xl font-display font-bold mb-6">
              Nos <span class="text-gradient">Réalisations.</span>
            </h1>
        </Reveal>
        <Reveal client:load delay={0.2}>
            <p class="text-gray-400 text-xl leading-relaxed">
              Ne nous croyez pas sur parole. Explorez nos sites de démonstration complets, 
              conçus pour différents secteurs d'activité. Cliquez et naviguez comme un vrai client.
            </p>
        </Reveal>
      </div>

      <!-- Projects List (Classic Design) -->
      <StaggerContainer client:visible className="flex flex-col gap-32 mb-32">
        {PROJECTS.map((project, index) => (
            <StaggerItem key={project.title}>
                <div class="group block relative">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center">
                        
                        {/* Image Area - Order alternates */}
                        <div class={`relative aspect-[4/3] rounded-2xl overflow-hidden border border-white/10 ${index % 2 === 1 ? 'lg:order-2' : ''}`}>
                             <a href={project.link} class="block h-full w-full">
                                <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500 z-10"></div>
                                <ParallaxImage client:visible src={project.image} alt={project.title} className="w-full h-full" />
                                
                                <!-- Overlay Button -->
                                <div class="absolute bottom-6 right-6 z-20 w-14 h-14 bg-white rounded-full flex items-center justify-center opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300 shadow-xl">
                                    <ExternalLink class="w-6 h-6 text-black" />
                                </div>
                             </a>
                        </div>

                        {/* Content Area */}
                        <div class={index % 2 === 1 ? 'lg:order-1 lg:text-right' : ''}>
                            <Reveal client:visible delay={0.1}>
                                <div class="inline-block px-4 py-1 mb-6 rounded-full border border-white/10 bg-surface/50 text-sm font-medium text-primary">
                                    {project.category}
                                </div>
                            </Reveal>
                            <Reveal client:visible delay={0.2}>
                                <h2 class="text-4xl md:text-5xl font-bold mb-6 group-hover:text-primary transition-colors duration-300">
                                    <a href={project.link}>{project.title}</a>
                                </h2>
                            </Reveal>
                            <Reveal client:visible delay={0.3}>
                                <p class="text-gray-400 text-lg mb-8 leading-relaxed">
                                    {project.description}
                                </p>
                            </Reveal>
                            <Reveal client:visible delay={0.4}>
                                <a href={project.link} class="inline-flex items-center gap-2 text-white font-medium text-lg hover:gap-4 transition-all border-b border-white/20 pb-1 hover:border-white hover:text-primary">
                                    Voir l'étude de cas <ArrowRight class="w-5 h-5" />
                                </a>
                            </Reveal>
                        </div>

                    </div>
                </div>
            </StaggerItem>
        ))}
      </StaggerContainer>

      <!-- Magic CTA -->
      <MagicCTA 
        title="Vous avez une <span class='text-gradient'>vision ?</span>"
        subtitle="Discutons de vos objectifs. Que ce soit pour une refonte ou un nouveau projet, nous construisons la solution qui vous correspond."
        badge="Parlons Business"
      />

    </Container>
  </main>

  <Footer />
</Layout>
